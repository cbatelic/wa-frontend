{"remainingRequest":"C:\\Users\\Chiara\\Desktop\\WA-Projekt\\wa-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Chiara\\Desktop\\WA-Projekt\\wa-frontend\\src\\services\\index.js","dependencies":[{"path":"C:\\Users\\Chiara\\Desktop\\WA-Projekt\\wa-frontend\\src\\services\\index.js","mtime":1647207173430},{"path":"C:\\Users\\Chiara\\Desktop\\WA-Projekt\\wa-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Chiara\\Desktop\\WA-Projekt\\wa-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0NoaWFyYS9EZXNrdG9wL1dBLVByb2pla3Qvd2EtZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgJHJvdXRlciBmcm9tICdAL3JvdXRlcic7CnZhciBTZXJ2aWNlID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwLycsCiAgdGltZW91dDogMTAwMAp9KTsKU2VydmljZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKHJlcXVlc3QpIHsKICB0cnkgewogICAgcmVxdWVzdC5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyBBdXRoLmdldFRva2VuKCk7CiAgfSBjYXRjaCAoZSkgewogICAgY29uc29sZS5lcnJvcihlKTsKICB9CgogIHJldHVybiByZXF1ZXN0Owp9KTsKU2VydmljZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIGNvbnNvbGUubG9nKCdJbnRlcmNlcHRvcicsIHJlc3BvbnNlKTsKICByZXR1cm4gcmVzcG9uc2U7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT0gNDAxKSB7CiAgICBBdXRoLmxvZ291dCgpOwogICAgJHJvdXRlci5nbygpOwogIH0KfSk7IC8vICAgICAocmVzcG9uc2UpID0+IHJlc3BvbnNlLAovLyAgICAgKGVycm9yKSA9PiB7Ci8vICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT0gNDAzKSB7Ci8vICAgICAgICAgJHJvdXRlci5yZXBsYWNlKCIvZXJyb3IiKTsKLy8gICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoIlRoaXMgcm91dGUgaXMgZm9yYmlkZGVuISIsIGVycm9yKTsKLy8gICAgICAgfQovLyAgICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09IDQwMSkgewovLyAgICAgICAgIEF1dGgubG9nb3V0KCk7Ci8vICAgICAgICAgJHJvdXRlci5nbygpOwovLyAgICAgICB9Ci8vICAgICB9Ci8vICAgKTsKCnZhciBCb29raW5nID0gewogIGFkZF9ib29raW5nOiBmdW5jdGlvbiBhZGRfYm9va2luZyhfYWRkX2Jvb2tpbmcpIHsKICAgIHJldHVybiBTZXJ2aWNlLnBvc3QoJy9ob21lQWRtaW4nLCBfYWRkX2Jvb2tpbmcpOwogIH0sCiAgZ2V0QWxsQm9va2luZzogZnVuY3Rpb24gZ2V0QWxsQm9va2luZygpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciByZXNwb25zZSwgZGF0YTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBTZXJ2aWNlLmdldCgiL2hvbWVBZG1pbiIpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICBkYXRhID0gZGF0YS5tYXAoZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgaWQ6IGRvYy5faWQsCiAgICAgICAgICAgICAgICAgIHRlcnJhaW5JZDogZG9jLl9pZCwKICAgICAgICAgICAgICAgICAgdGVhbU5hbWU6IGRvYy50ZWFtTmFtZSwKICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiBkb2MudXNlckVtYWlsLAogICAgICAgICAgICAgICAgICBtZW1iZXJzOiBkb2MubWVtYmVycywKICAgICAgICAgICAgICAgICAgbm90ZTogZG9jLm5vdGUsCiAgICAgICAgICAgICAgICAgIHBvc3RlZF9hdDogTnVtYmVyKGRvYy5wb3N0ZWRfYXQpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGRhdGEpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0KfTsKdmFyIFBvc3RzID0gewogIGFkZF90ZXJyYWluOiBmdW5jdGlvbiBhZGRfdGVycmFpbihhZG1UZXJyYWluKSB7CiAgICByZXR1cm4gU2VydmljZS5wb3N0KCcvdGVycmFpbicsIGFkbVRlcnJhaW4pOwogIH0sCiAgZ2V0QWxsOiBmdW5jdGlvbiBnZXRBbGwoKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIHJlc3BvbnNlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gU2VydmljZS5nZXQoIi90ZXJyYWluIik7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgcmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9IC8vIGFzeW5jIGdldE9uZShpZCl7CiAgLy8gICAgIGxldCByZXNwb25zZSA9IGF3YWl0IFNlcnZpY2UuZ2V0KGAvdGVycmFpbi8ke2lkfWApOwogIC8vICAgICBsZXQgZG9jID0gcmVzcG9uc2UuZGF0YTsKICAvLyAgICAgcmV0dXJuIHsKICAvLyAgICAgICAgIGlkOmRvYy5faWQsCiAgLy8gICAgICAgICB0ZXJyYWluTmFtZTogZG9jLnRlcnJhaW5OYW1lLAogIC8vICAgICAgICAgdGVycmFpbkNpdHk6IGRvYy50ZXJyYWluQ2l0eSwKICAvLyAgICAgICAgIHRlcnJhaW5DYXRlZ29yaWVzOiBkb2MudGVycmFpbkNhdGVnb3JpZXMsCiAgLy8gICAgICAgICBwb3N0ZWRfYXQ6IE51bWJlcihkb2MucG9zdGVkX2F0KSwKICAvLyAgICAgfTsKICAvLyB9LCAKCn07CnZhciBRdWVzdGlvbiA9IHsKICBzZW5kX3F1ZXN0aW9uOiBmdW5jdGlvbiBzZW5kX3F1ZXN0aW9uKF9zZW5kX3F1ZXN0aW9uKSB7CiAgICByZXR1cm4gU2VydmljZS5wb3N0KCcvdXNlcnNRdWVzdGlvbnNBZG1pbicsIF9zZW5kX3F1ZXN0aW9uKTsKICB9LAogIGdldEFsbFF1ZXN0aW9uczogZnVuY3Rpb24gZ2V0QWxsUXVlc3Rpb25zKCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHZhciByZXNwb25zZSwgZGF0YTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIFNlcnZpY2UuZ2V0KCIvdXNlcnNRdWVzdGlvbnNBZG1pbiIpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgZGF0YSA9IGRhdGEubWFwKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgIGlkOiBkb2MuX2lkLAogICAgICAgICAgICAgICAgICBuYW1lOiBkb2MubmFtZSwKICAgICAgICAgICAgICAgICAgc3VybmFtZTogZG9jLnN1cm5hbWUsCiAgICAgICAgICAgICAgICAgIGVtYWlsOiBkb2MuZW1haWwsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRvYy5tZXNzYWdlLAogICAgICAgICAgICAgICAgICBwb3N0ZWRfYXQ6IE51bWJlcihkb2MucG9zdGVkX2F0KQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgZGF0YSk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMyk7CiAgICB9KSkoKTsKICB9LAogIGdldE9uZVF1ZXN0aW9uOiBmdW5jdGlvbiBnZXRPbmVRdWVzdGlvbihpZCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgIHZhciByZXNwb25zZSwgZG9jOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gU2VydmljZS5nZXQoIi91c2Vyc1F1ZXN0aW9uc0FkbWluLyIuY29uY2F0KGlkKSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICBkb2MgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICBpZDogZG9jLl9pZCwKICAgICAgICAgICAgICAgIG5hbWU6IGRvYy5uYW1lLAogICAgICAgICAgICAgICAgc3VybmFtZTogZG9jLnN1cm5hbWUsCiAgICAgICAgICAgICAgICBlbWFpbDogZG9jLmVtYWlsLAogICAgICAgICAgICAgICAgbWVzc2FnZTogZG9jLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICBwb3N0ZWRfYXQ6IE51bWJlcihkb2MucG9zdGVkX2F0KQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTQpOwogICAgfSkpKCk7CiAgfQp9Owp2YXIgQWRtaW4gPSB7Ly8gICAgIGFzeW5jIGdldEFsbChhZG1pbikgewogIC8vICAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IFNlcnZpY2UuZ2V0KGAvaG9tZUFkbWluPyR7YWRtaW59YCk7CiAgLy8gICAgICAgbGV0IGRhdGEgPSByZXNwb25zZS5kYXRhOwogIC8vICAgICAgIGRhdGEgPSBkYXRhLm1hcCgoZG9jKSA9PiB7CiAgLy8gICAgICAgICByZXR1cm4gewogIC8vICAgICAgICAgICBlbWFpbDogZG9jLmVtYWlsLAogIC8vICAgICAgICAgICByb2xlOiBkb2Mucm9sZSwKICAvLyAgICAgICAgIH07CiAgLy8gICAgICAgfSk7CiAgLy8gICAgICAgcmV0dXJuIGRhdGE7CiAgLy8gICAgIH0sCiAgLy8gICAgIGFzeW5jIGdldE9uZShhZG1pbikgewogIC8vICAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IFNlcnZpY2UuZ2V0KGAvaG9tZUFkbWluLyR7YWRtaW59YCk7CiAgLy8gICAgICAgbGV0IGRvYyA9IHJlc3BvbnNlLmRhdGE7CiAgLy8gICAgICAgcmV0dXJuIHsKICAvLyAgICAgICAgIHJvbGU6IGRvYy5yb2xlLAogIC8vICAgICAgIH07CiAgLy8gICAgIH0sCn07CnZhciBBdXRoID0gewogIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihlbWFpbCwgcGFzc3dvcmQsIG5hbWUsIHN1cm5hbWUpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICB2YXIgcmVzcG9uc2UsIHVzZXI7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBTZXJ2aWNlLnBvc3QoIi9hdXRoIiwgewogICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLAogICAgICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgICAgIHN1cm5hbWU6IHN1cm5hbWUKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgIHVzZXIgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VyIiwgSlNPTi5zdHJpbmdpZnkodXNlcikpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHVzZXIuc3VybmFtZSk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIHRydWUpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTUpOwogICAgfSkpKCk7CiAgfSwKICBzaWduVXA6IGZ1bmN0aW9uIHNpZ25VcCh1c2VyKSB7CiAgICByZXR1cm4gU2VydmljZS5wb3N0KCcvdXNlcicsIHVzZXIpOwogIH0sCiAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidXNlciIpOwogIH0sCiAgY2hhbmdlX1Bhc3N3b3JkOiBmdW5jdGlvbiBjaGFuZ2VfUGFzc3dvcmQob2xkX3Bhc3N3b3JkLCBuZXdfcGFzc3dvcmQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICB2YXIgcmVzcG9uc2UsIHVzZXI7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBTZXJ2aWNlLnBhdGNoKCcvdXNlcicsIHsKICAgICAgICAgICAgICAgIG9sZF9wYXNzd29yZDogb2xkX3Bhc3N3b3JkLAogICAgICAgICAgICAgICAgbmV3X3Bhc3N3b3JkOiBuZXdfcGFzc3dvcmQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICAgIHVzZXIgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgSlNPTi5zdHJpbmdpZnkodXNlcikpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCB0cnVlKTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU2KTsKICAgIH0pKSgpOwogIH0sCiAgZ2V0VXNlcjogZnVuY3Rpb24gZ2V0VXNlcigpIHsKICAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VyIikpOwogIH0sCiAgYWNjb3VudDogZnVuY3Rpb24gYWNjb3VudCgpIHsKICAgIHZhciB1c2VyID0gQXV0aC5nZXRVc2VyKCk7CgogICAgaWYgKHVzZXIpIHsKICAgICAgcmV0dXJuIHVzZXI7CiAgICB9CiAgfSwKICBnZXRUb2tlbjogZnVuY3Rpb24gZ2V0VG9rZW4oKSB7CiAgICB2YXIgdXNlciA9IEF1dGguZ2V0VXNlcigpOwoKICAgIGlmICh1c2VyICYmIHVzZXIudG9rZW4pIHsKICAgICAgcmV0dXJuIHVzZXIudG9rZW47CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSwKICBhdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBhdXRoZW50aWNhdGVkKCkgewogICAgdmFyIHVzZXIgPSBBdXRoLmdldFVzZXIoKTsKCiAgICBpZiAodXNlciAmJiB1c2VyLnRva2VuKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0sCiAgc3RhdGU6IHsKICAgIGdldCBhdXRoZW50aWNhdGVkKCkgewogICAgICByZXR1cm4gQXV0aC5hdXRoZW50aWNhdGVkKCk7CiAgICB9CgogIH0KfTsKZXhwb3J0IHsgU2VydmljZSwgQXV0aCwgUG9zdHMsIEFkbWluLCBCb29raW5nLCBRdWVzdGlvbiB9Ow=="},{"version":3,"sources":["C:/Users/Chiara/Desktop/WA-Projekt/wa-frontend/src/services/index.js"],"names":["axios","$router","Service","create","baseURL","timeout","interceptors","request","use","headers","Auth","getToken","e","console","error","response","log","status","logout","go","Booking","add_booking","post","getAllBooking","get","data","map","doc","id","_id","terrainId","teamName","userEmail","members","note","posted_at","Number","Posts","add_terrain","admTerrain","getAll","Question","send_question","getAllQuestions","name","surname","email","message","getOneQuestion","Admin","login","password","user","localStorage","setItem","JSON","stringify","signUp","removeItem","change_Password","old_password","new_password","patch","getUser","parse","getItem","account","token","authenticated","state"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport $router from '@/router';\r\n\r\n\r\nlet Service = axios.create({     \r\n    baseURL: 'http://localhost:3000/',  \r\n    timeout: 1000,\r\n});\r\n\r\nService.interceptors.request.use((request) => {\r\n   try{\r\n       request.headers['Authorization'] = 'Bearer ' + Auth.getToken();\r\n   }\r\n   catch(e){\r\n       console.error(e);\r\n   }\r\n   return request;\r\n});\r\n\r\nService.interceptors.response.use(\r\n    (response) => {\r\n        console.log('Interceptor', response);\r\n        return response;\r\n    },\r\n    (error) => {\r\n        if(error.response.status == 401){\r\n            Auth.logout();\r\n            $router.go();\r\n        }\r\n    }\r\n);\r\n//     (response) => response,\r\n//     (error) => {\r\n//       if (error.response.status == 403) {\r\n//         $router.replace(\"/error\");\r\n//         return Promise.reject(\"This route is forbidden!\", error);\r\n//       }\r\n//       if (error.response.status == 401) {\r\n//         Auth.logout();\r\n//         $router.go();\r\n//       }\r\n//     }\r\n//   );\r\nlet Booking = {\r\n    add_booking(add_booking){\r\n        return Service.post('/homeAdmin', add_booking)\r\n    },\r\n    async getAllBooking() {        \r\n        let response = await Service.get(`/homeAdmin`)\r\n        let data = response.data;\r\n        data = data.map(doc =>{\r\n            return {\r\n                id:doc._id,\r\n                terrainId: doc._id,\r\n                teamName: doc.teamName,\r\n                userEmail: doc.userEmail,\r\n                members: doc.members,\r\n                note: doc.note,\r\n                posted_at: Number (doc.posted_at)\r\n            \r\n            };\r\n        });\r\n        return data\r\n    },\r\n\r\n}\r\nlet Posts ={\r\n    add_terrain(admTerrain) {\r\n        return Service.post('/terrain', admTerrain);\r\n    },\r\n\r\n    async getAll() {        \r\n        let response = await Service.get(`/terrain`)\r\n        return response.data\r\n        data = data.map(doc =>{\r\n            return {\r\n                id:doc._id,\r\n                terrainName: doc.terrainName,\r\n                terrainCity: doc.terrainCity,\r\n                terrainCategories: doc.terrainCategories,\r\n                date: doc.date,\r\n                time: doc.time,\r\n                posted_at: Number (doc.posted_at)\r\n            \r\n            };\r\n        });\r\n        return data\r\n    },\r\n    // async getOne(id){\r\n    //     let response = await Service.get(`/terrain/${id}`);\r\n    //     let doc = response.data;\r\n    //     return {\r\n    //         id:doc._id,\r\n    //         terrainName: doc.terrainName,\r\n    //         terrainCity: doc.terrainCity,\r\n    //         terrainCategories: doc.terrainCategories,\r\n    //         posted_at: Number(doc.posted_at),\r\n\r\n            \r\n    //     };\r\n    // }, \r\n}\r\n\r\nlet Question = {\r\n    send_question(send_question) {\r\n        return Service.post('/usersQuestionsAdmin', send_question);\r\n    },\r\n\r\n    async getAllQuestions() {        \r\n        let response = await Service.get(`/usersQuestionsAdmin`)\r\n        let data = response.data;\r\n        data = data.map(doc =>{\r\n            return {\r\n                id:doc._id,\r\n                name: doc.name,\r\n                surname: doc.surname,\r\n                email: doc.email,\r\n                message: doc.message,\r\n                posted_at: Number (doc.posted_at)\r\n            \r\n            };\r\n        });\r\n        return data\r\n    },\r\n\r\n    async getOneQuestion(id) {\r\n        let response = await Service.get(`/usersQuestionsAdmin/${id}`);\r\n        let doc = response.data;\r\n        return {\r\n          id: doc._id,\r\n          name: doc.name,\r\n          surname: doc.surname,\r\n          email: doc.email,\r\n          message: doc.message,\r\n          posted_at: Number (doc.posted_at)\r\n        };\r\n      },\r\n\r\n}\r\nlet Admin = {\r\n//     async getAll(admin) {\r\n//       let response = await Service.get(`/homeAdmin?${admin}`);\r\n//       let data = response.data;\r\n//       data = data.map((doc) => {\r\n//         return {\r\n//           email: doc.email,\r\n//           role: doc.role,\r\n//         };\r\n//       });\r\n//       return data;\r\n//     },\r\n  \r\n//     async getOne(admin) {\r\n//       let response = await Service.get(`/homeAdmin/${admin}`);\r\n//       let doc = response.data;\r\n//       return {\r\n//         role: doc.role,\r\n//       };\r\n//     },\r\n  };\r\n\r\nlet Auth = {\r\n    \r\n    async login(email, password, name, surname){\r\n        let response = await Service.post(\"/auth\",{\r\n           email: email,\r\n           password: password,\r\n           name: name,\r\n           surname: surname\r\n        });\r\n        let user = response.data\r\n        localStorage.setItem(\"user\", JSON.stringify(user)); \r\n        console.log(user.surname)\r\n        return true;\r\n    },\r\n    signUp(user) {\r\n        return Service.post('/user', user);\r\n    },\r\n    logout(){\r\n      localStorage.removeItem(\"user\");\r\n    },\r\n    async change_Password(old_password, new_password) {\r\n        let response = await Service.patch('/user', {\r\n          old_password: old_password,\r\n          new_password: new_password\r\n        });\r\n    \r\n        let user = response.data;\r\n    \r\n        localStorage.setItem('user', JSON.stringify(user));\r\n    \r\n        return true;\r\n      },\r\n    getUser(){\r\n      return JSON.parse(localStorage.getItem(\"user\"))  \r\n    },\r\n    account(){\r\n        let user = Auth.getUser()\r\n        if(user){\r\n            return user\r\n        }\r\n    },\r\n    getToken(){\r\n        let user = Auth.getUser();\r\n        if(user && user.token){\r\n            return user.token\r\n        }\r\n        else{\r\n            return false;\r\n        }\r\n    },\r\n    authenticated(){\r\n        let user = Auth.getUser()\r\n        if(user && user.token){\r\n           return true \r\n        }\r\n        else{\r\n            return false\r\n        }\r\n    },\r\n    state: {\r\n        get authenticated (){\r\n           return Auth.authenticated(); \r\n        },\r\n    }\r\n};\r\n\r\nexport { Service, Auth, Posts, Admin, Booking, Question}"]}]}