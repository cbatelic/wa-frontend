{"remainingRequest":"C:\\Users\\Chiara\\Desktop\\WA-Projekt\\wa-frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Chiara\\Desktop\\WA-Projekt\\wa-frontend\\src\\views\\Account.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Chiara\\Desktop\\WA-Projekt\\wa-frontend\\src\\views\\Account.vue","mtime":1648750560141},{"path":"C:\\Users\\Chiara\\Desktop\\WA-Projekt\\wa-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Chiara\\Desktop\\WA-Projekt\\wa-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Chiara\\Desktop\\WA-Projekt\\wa-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Chiara\\Desktop\\WA-Projekt\\wa-frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgbmF2aWdhdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvbmF2aWdhdGlvbi52dWUnOw0KaW1wb3J0IHtBdXRofSBmcm9tICdAL3NlcnZpY2VzJzsNCmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlLmpzJzsNCmltcG9ydCB7IHJlcXVpcmVkLCBtaW5MZW5ndGggfSBmcm9tICd2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIA0KICAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgYXV0aDogQXV0aC5zdGF0ZSwNCiAgICAgIHVzZXI6IHt9LA0KICAgICAgc3RvcmUsDQogICAgICBuZXdfcGFzc3dvcmQ6ICcnLA0KICAgICAgb2xkX3Bhc3N3b3JkOiAnJywNCiAgICAgIHNob3c6IEJvb2xlYW4sDQogICAgICB2YWxpZGF0aW9uOiAnJywNCiAgICAgIHZhbGlkYXRpb24xOiAnJywNCiAgICAgIHZhbGlkYXRpb24yOiAnJywNCiAgICAgIHZhbGlkYXRpb24zOiAnJywNCiAgICAgIHZhbGlkYXRpb240OiAnJw0KICAgIH07DQogIH0sDQogIHZhbGlkYXRpb25zOnsNCiAgIG5ld19wYXNzd29yZDogew0KICAgICByZXF1aXJlZCwNCiAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoOCksDQogICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBwYXNzd29yZCgpew0KICAgICB0aGlzLnNob3cgPSAhdGhpcy5zaG93Ow0KICAgIH0sDQogICAgYXN5bmMgY2hhbmdlUGFzc3dvcmQoKSB7DQogICAgICBpZih0aGlzLm9sZF9wYXNzd29yZCA9PSAnJyB8fCB0aGlzLm5ld19wYXNzd29yZCA9PSAnJyl7DQogICAgICAgIHJldHVybiAodGhpcy52YWxpZGF0aW9uMSA9ICdJbnB1dHMgZmllbGRzIG11c3QgYmUgcmVxdWlyZWQhJyk7DQogICAgICB9IGVsc2UgaWYodGhpcy5vbGRfcGFzc3dvcmQgPT0gdGhpcy5uZXdfcGFzc3dvcmQpew0KICAgICAgICByZXR1cm4odGhpcy52YWxpZGF0aW9uMiA9ICdOZXcgcGFzc3dvcmQgbXVzdCBiZSBkaWZmZXJlbnQgZnJvbSB0aGUgb2xkIHBhc3N3b3JkIScpDQogICAgICB9DQogICAgICBpZighdGhpcy4kdi5uZXdfcGFzc3dvcmQubWluTGVuZ3RoKXsNCiAgICAgICAgcmV0dXJuICh0aGlzLnZhbGlkYXRpb240ID0gJ0ludmFsaWQgcGFzc3dvcmQhJyk7DQogICAgICB9DQogICAgICB0cnl7DQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMub2xkX3Bhc3N3b3JkKQ0KICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm5ld19wYXNzd29yZCkNCiAgICAgICAgY29uc29sZS5sb2codGhpcy5kYXRhKQ0KICAgICAgbGV0IHN1Y2Nlc3MgPSBhd2FpdCBBdXRoLmNoYW5nZV9QYXNzd29yZCgNCiAgICAgICAgICB0aGlzLm9sZF9wYXNzd29yZCwNCiAgICAgICAgICB0aGlzLm5ld19wYXNzd29yZA0KICAgICAgICApOw0KICAgICAgICBjb25zb2xlLmxvZygnUmVzdWx0OiAnLCBzdWNjZXNzKTsNCiAgICAgICAgaWYgKHN1Y2Nlc3MgPT0gdHJ1ZSApIHsNCiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJyk7DQogICAgICAgIH0NCiAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgY29uc29sZS5sb2coZSk7DQogICAgICAgIHRoaXMuZXJyb3IgPSAnV3JvbmcnOw0KICAgICAgfQ0KICAgIH0sDQogIGFjY291bnQoKXsNCiAgICBpZih0aGlzLmF1dGguYXV0aGVudGljYXRlZCl7DQogICAgICB0aGlzLnVzZXIgPSBBdXRoLmFjY291bnQoKTsNCiAgICAgIHRoaXMuc3RvcmUgPSBBdXRoLmFjY291bnQoKTsNCiAgICAgIGNvbnNvbGUubG9nKCJBdXRoZW50aWNhdGVkOiIsIHRoaXMuYXV0aC5hdXRoZW50aWNhdGVkKQ0KICAgICAgc3RvcmUuZW1haWw9dGhpcy5zdG9yZS5lbWFpbDsNCiAgICAgIHN0b3JlLm5hbWU9dGhpcy5zdG9yZS5uYW1lOw0KICAgICAgc3RvcmUuc3VybmFtZT10aGlzLnN0b3JlLnN1cm5hbWU7DQogICAgICBjb25zb2xlLmxvZyhzdG9yZS5lbWFpbCxzdG9yZS5uYW1lLHN0b3JlLnN1cm5hbWUpOw0KICAgIH0NCg0KICB9LA0KICAgbG9nb3V0KCl7DQogICAgICBBdXRoLmxvZ291dCgpOw0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsgDQogICAgICBjb25zb2xlLmxvZygnb2RqYXZhJykNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMudXNlcikNCiAgICB9LA0KICAgY3JlYXRlZCgpIHsNCiAgICAgICAgdGhpcy5hY2NvdW50KCk7DQogICAgICAgIA0KICAgIH0sDQp9LA0KY29tcG9uZW50czogew0KICBuYXZpZ2F0aW9uDQp9DQp9DQo="},{"version":3,"sources":["Account.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Account.vue","sourceRoot":"src/views","sourcesContent":[" <template>\r\n <div>\r\n      <navigation></navigation>\r\n      <div class=\"pt-16 \">\r\n                <div class=\"p-3 lg:mx-20\">\r\n                    <div class=\" flex justify-center items-center my-14 lg:my-10\">\r\n                            <svg class=\"h-44 text-white bg-blue-400 rounded-3xl lg:h-3/6 lg:w-72\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"\r\n                                stroke=\"currentColor\">\r\n                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\r\n                                    d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n                            </svg>\r\n                    </div>\r\n                    <div class=\"\">\r\n                        <div class=\"grid text-lg space-y-12\">\r\n                            <div class=\"grid grid-cols-2 bg-white rounded-md \">\r\n                                <div class=\"px-4 py-2 font-semibold text-blue-500\">Name:</div>\r\n                                <div class=\" py-2 text-black\">{{store.name}}</div>\r\n                            </div>\r\n                            <div class=\"grid grid-cols-2 bg-white rounded-md \">\r\n                                <div class=\"px-4 py-2 font-semibold text-blue-500\">Surname:</div>\r\n                                <div class=\" py-2 text-black\">{{store.surname}}</div>\r\n                            </div>\r\n                            <div class=\"grid grid-cols-2 bg-white rounded-md \">\r\n                                <div class=\"px-4 py-2 font-semibold text-blue-500\">Email:</div>\r\n                                <div class=\" py-2\">\r\n                                    <a class=\"text-black underline\" >{{store.email}}</a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"inline-flex px-3.5 mt-8 lg:mx-20\">\r\n<div class=\"text-white\">Do you want to </div>\r\n  <button type=\"button\" @click=\"password()\" class=\"font-black underline text-white pl-2\">Change password?</button>\r\n                </div>\r\n  <div v-if=\"!this.show\" class=\"p-3 space-y-10 lg:mx-20\">\r\n    <div class=\"space-y-3\">\r\n    <label class=\"text-white\">Old password</label>\r\n   <input\r\n                v-model=\"old_password\"\r\n                type=\"password\"\r\n                name=\"old_password\"\r\n                class=\"form-control\"\r\n                id=\"old_password\"\r\n                required\r\n                invalidFeedback='Please enter correct old password!' />\r\n                <p class=\"validation text-red-500\">{{ validation }} </p>\r\n    </div>\r\n    <div class=\"space-y-3\">\r\n    <label class=\"text-white\">New password</label>\r\n     <input\r\n                v-model=\"new_password\"\r\n                type=\"password\"\r\n                name=\"new_password\"\r\n                class=\"form-control\"\r\n                id=\"new_password\"\r\n                required\r\n                invalidFeedback= \"Please enter correct password!\" />\r\n                <p class=\"validation1 text-red-500\">{{ validation1 }}</p>\r\n                <p class=\"validation2 text-red-500\">{{ validation2 }}</p>\r\n                <p class=\"validation3 text-red-500\">{{ validation3 }}</p>\r\n                <div class=\"text-red-500\" v-if=\"!$v.new_password.minLength\">\r\n                  Password must have {{ $v.new_password.$params.minLength.min}} characters!\r\n                </div>\r\n    </div>\r\n    <div class=\"flex justify-end space-x-7\">\r\n                <button class=\"text-white bg-blue-500 rounded-md py-2 px-2\" type=\"button\" @click=\"changePassword()\"> Save</button>\r\n                <button class=\"text-blue-500 bg-white rounded-md py-2 px-2\" type=\"button\" @click=\"password()\"> Cancel</button>\r\n    </div>\r\n  </div>\r\n  </div>\r\n </div>    \r\n</template>\r\n\r\n<script>\r\nimport navigation from '@/components/navigation.vue';\r\nimport {Auth} from '@/services';\r\nimport store from '@/store.js';\r\nimport { required, minLength } from 'vuelidate/lib/validators';\r\n\r\nexport default {\r\n  \r\n   data() {\r\n    return {\r\n      auth: Auth.state,\r\n      user: {},\r\n      store,\r\n      new_password: '',\r\n      old_password: '',\r\n      show: Boolean,\r\n      validation: '',\r\n      validation1: '',\r\n      validation2: '',\r\n      validation3: '',\r\n      validation4: ''\r\n    };\r\n  },\r\n  validations:{\r\n   new_password: {\r\n     required,\r\n     minLength: minLength(8),\r\n   }\r\n  },\r\n  methods: {\r\n    password(){\r\n     this.show = !this.show;\r\n    },\r\n    async changePassword() {\r\n      if(this.old_password == '' || this.new_password == ''){\r\n        return (this.validation1 = 'Inputs fields must be required!');\r\n      } else if(this.old_password == this.new_password){\r\n        return(this.validation2 = 'New password must be different from the old password!')\r\n      }\r\n      if(!this.$v.new_password.minLength){\r\n        return (this.validation4 = 'Invalid password!');\r\n      }\r\n      try{\r\n        console.log(this.old_password)\r\n        console.log(this.new_password)\r\n        console.log(this.data)\r\n      let success = await Auth.change_Password(\r\n          this.old_password,\r\n          this.new_password\r\n        );\r\n        console.log('Result: ', success);\r\n        if (success == true ) {\r\n          this.$router.push('/login');\r\n        }\r\n      } catch (e) {\r\n        console.log(e);\r\n        this.error = 'Wrong';\r\n      }\r\n    },\r\n  account(){\r\n    if(this.auth.authenticated){\r\n      this.user = Auth.account();\r\n      this.store = Auth.account();\r\n      console.log(\"Authenticated:\", this.auth.authenticated)\r\n      store.email=this.store.email;\r\n      store.name=this.store.name;\r\n      store.surname=this.store.surname;\r\n      console.log(store.email,store.name,store.surname);\r\n    }\r\n\r\n  },\r\n   logout(){\r\n      Auth.logout();\r\n      this.$router.push(\"/\"); \r\n      console.log('odjava')\r\n      console.log(this.user)\r\n    },\r\n   created() {\r\n        this.account();\r\n        \r\n    },\r\n},\r\ncomponents: {\r\n  navigation\r\n}\r\n}\r\n</script>"]}]}